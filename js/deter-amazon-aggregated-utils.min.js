window.addEventListener("onResize",()=>{clearTimeout(utils.config.resizeTimeout),utils.config.resizeTimeout=setTimeout(graph.doResize,200)});export function getSeriesChartWidth(){return document.querySelector("#agreg").clientWidth}export function fakeMonths(d,calendarConfiguration){var list=[],m=1;return m="prodes"==calendarConfiguration?(list=[13,14,15,16,17,18,19,8,9,10,11,12])[d-1]:d}export function displayWarning(enable){void 0===enable&&(enable=!0),d3.select("#warning_data_info").style("display",enable?"":"none"),d3.select("#loading_data_info").style("display",enable?"none":""),d3.select("#info_container").style("display",enable?"":"none"),document.getElementById("warning_data_info").innerHTML='<h3><span id="txt8">'+Translation[Lang.language].txt8+"</span></h3>"}export function displayWaiting(enable){void 0===enable&&(enable=!0),d3.select("#charts-panel").style("display",enable?"none":""),d3.select("#loading_data_info").style("display",enable?"":"none"),d3.select("#info_container").style("display",enable?"":"none"),d3.select("#panel_container").style("display",enable?"none":""),d3.select("#warning_data_info").style("display","none")}export function displayGraphContainer(){d3.select("#panel_container").style("display","block")}export function snapToZero(sourceGroup){return{all:function(){return sourceGroup.all().map((function(d){return{key:d.key,value:Math.abs(d.value)<1e-6?0:d.value}}))}}}export function mappingClassNames(context,cl){let configurations=context.configurations;if(void 0===configurations.legendOriginal)return cl;for(var l=configurations.legendOriginal.length,i=0;i<l;i++)if(configurations.legendOriginal[i]===cl){cl=configurations.legendOverlay[Lang.language][i];break}return cl}export function highlightClassFilterButtons(ref,chartReferencies){document.getElementById(ref+"-bt").removeAttribute("class"),document.getElementById(ref+"-bt").classList.add("disable"),"deforestation"==ref?(document.getElementById("degradation-classes").classList.add("disable"),document.getElementById("custom-classes").classList.add("disable"),document.getElementById("degradation-bt").removeAttribute("class"),document.getElementById("custom-bt").removeAttribute("class")):"degradation"==ref?(document.getElementById("deforestation-classes").classList.add("disable"),document.getElementById("custom-classes").classList.add("disable"),document.getElementById("deforestation-bt").removeAttribute("class"),document.getElementById("custom-bt").removeAttribute("class")):"custom"==ref&&(displayCustomValues(chartReferencies),document.getElementById("degradation-classes").classList.add("disable"),document.getElementById("deforestation-classes").classList.add("disable"),document.getElementById("degradation-bt").removeAttribute("class"),document.getElementById("deforestation-bt").removeAttribute("class"))}export function renderAll(){dc.renderAll("agrega")}export function displayCustomValues(chartReferencies){var area=0,htmlBox="<div class='icon-left'><i class='fa fa-leaf fa-2x' aria-hidden='true'></i></div><span class='number-display'>",data=chartReferencies.rowTotalizedByClass.data(),filters=chartReferencies.rowTotalizedByClass.filters();data.forEach(d=>{filters.length?filters.includes(d.key)&&(area+=d.value):area+=d.value}),area=localeBR.numberFormat(",1f")(area.toFixed(2)),chartReferencies.totalizedCustomArea.html(htmlBox+"<span>"+Translation[Lang.language].degrad_defor+"</span><div class='numberinf'>"+area+" kmÂ²</div></span>")}export function xaxis(d,calendarConfiguration){var list=[];return"prodes"==calendarConfiguration?(list=Translation[Lang.language].months_of_prodes_year)[d-8]:(list=Translation[Lang.language].months_of_civil_year)[d-1]}export function moveBars(chart,context){let offsetBars=18,years=context.yearGroup0.all(),mr=context.lineSeriesMonthly.margins().right,ml=context.lineSeriesMonthly.margins().left,wl=(context.lineSeriesMonthly.width()-mr-ml)/18,l=years.length,l2=parseInt(wl/l),start=-1*parseInt(wl-wl/2);chart.selectAll("g.sub").selectAll("rect.bar").forEach((sub,i)=>{sub.length&&(chart.selectAll("g.sub._"+i).attr("transform","translate("+start+", 0)"),start+=l2)})}export function makeMonthsChooserList(calendarConfiguration){let magicNumber=14,width=parseInt(getSeriesChartWidth()/14),template="",extra='<div style="width:'+width+'px"></div>',iMin,iMax="prodes"==calendarConfiguration?20:13;for(var i="prodes"==calendarConfiguration?8:1;i<iMax;i++)template+='<div style="width:'+width+'px;" id="month_'+i+'" class="month_box" onclick="graph.applyMonthFilter('+i+')"></div>';template=extra+template+extra,document.querySelector("#months_chooser").innerHTML=template,setMonthNamesFilterBar(calendarConfiguration)}export function highlightSelectedMonths(context,monthFilters){let iMin="prodes"==context.calendarConfiguration?8:1,iMax="prodes"==context.calendarConfiguration?20:13;for(var i=iMin;i<iMax;i++)monthFilters.includes(i)||!monthFilters.length?d3.select("#month_"+i).style("opacity","1"):d3.select("#month_"+i).style("opacity","0.4")}export function attachListenersToLegend(){var legendItems=document.querySelectorAll("#agreg .dc-legend-item")}function setMonthNamesFilterBar(calendarConfiguration){let iMin,iMax="prodes"==calendarConfiguration?20:13;for(var i="prodes"==calendarConfiguration?8:1;i<iMax;i++)d3.select("#month_"+i).html("prodes"==calendarConfiguration?Translation[Lang.language].months_of_prodes_year[i-8]:Translation[Lang.language].months_of_civil_year[i-1])}